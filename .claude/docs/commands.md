# Commands 文档

## 概述

`.claude/commands/` 目录包含了可复用的命令定义，每个命令都是一个 Markdown 文件。

## 使用方式

在 Claude Code 中直接输入命令名称：
```
/commit
/review-pr
/test
/refactor
```

## 命令列表

### /commit

创建符合规范的 Git 提交，自动分析变更。

**功能**：
- 自动检测变更文件
- 分析变更类型
- 生成符合 Conventional Commits 规范的提交信息
- 执行提交并验证

**使用场景**：
- 完成功能开发后
- 修复 Bug 后
- 需要遵循团队提交规范时

### /review-pr

审查 Pull Request，检查代码质量。

**功能**：
- 分析 PR 变更
- 检查代码质量、安全性、性能
- 提供可操作的审查意见

**使用场景**：
- 收到 PR 需要审查
- 合并前质量检查

### /test

运行测试并处理失败用例。

**功能**：
- 运行测试套件
- 收集并分析失败用例
- 提供修复建议

**参数**：
- `--pattern`: 指定测试文件
- `--watch`: 监听模式（TDD 推荐）

### /refactor

重构代码，改善设计。

**功能**：
- 识别代码坏味道
- 应用重构手法
- 保持测试通过

**重构原则**：
- 小步快跑
- 测试保护
- 语义不变
- 刚好够用

## 添加自定义命令

1. 在 `.claude/commands/` 创建 `.md` 文件
2. 定义命令结构：
   ```markdown
   # /command-name

   ## 描述
   命令简短描述

   ## 使用场景
   什么时候使用

   ## 参数
   - param: 说明

   ## 执行流程
   1. 步骤一
   2. 步骤二
   ```

3. 文件名即为命令名（`my-command.md` → `/my-command`）
