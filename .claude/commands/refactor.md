# /refactor

## 描述
重构代码，改善设计同时保持功能不变。

## 使用场景
- 代码复杂度过高需要简化
- 识别代码坏味道需要清理
- 提取可复用逻辑

## 参数
- `target`: 要重构的文件或代码块
- `focus` (可选): 重构目标（simplify/extract/optimize）

## 执行流程
1. 读取目标代码
2. 分析代码问题（复杂度、重复、耦合度）
3. 设计重构方案
4. 应用重构
5. 运行测试确保行为不变

## 重构原则
1. **小步快跑**：每次只改一个局部问题
2. **测试保护**：重构前后测试必须通过
3. **语义不变**：只改变结构，不改变行为
4. **刚好够用**：不过度设计

## 常见重构模式
- 提取函数/方法
- 提取变量
- 内联函数/变量
- 提取类/模块
- 移动函数/字段

## 注意事项
- **通用命令**：适用于所有编程语言
- 危险操作：建议先在测试分支进行
- 重构前确认有充足测试覆盖
